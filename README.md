# Серверная часть тестового задания на вакансию FullStack инженер для ООО Империя кофе

## Запуск сервера и микросервисов
Установка зависимостей:
```
npm install
```
Запуск шлюза и микросервисов осуществляется В трех разных терминалах:
```
1) npm run start
2) npm run start:product
3) npm run start:auth
```

## Объяснение архитектуры

### Шлюз API (основное приложение — порт 3400)

    • Центральная точка входа для всех клиентских запросов
    • Направляет запросы соответствующим микросервисам
    • Обрабатывает аутентификацию с помощью токенов JWT
    • Предоставляет документацию Swagger для тестирования API
      
### Микросервис продуктов (порт 3001)

    • Управляет данными продуктов (операции CRUD)
    • Подключен к базе данных MongoDB
    • Обрабатывает пагинацию для эффективного извлечения данных
    • Взаимодействует через транспорт TCP с использованием шаблонов сообщений
      
### Микросервис аутентификации (порт 3002)

    • Обрабатывает аутентификацию пользователей
    • Генерирует и проверяет токены JWT
    • Обеспечивает безопасный доступ к защищенным ресурсам
    • Взаимодействует через транспорт TCP с использованием шаблонов сообщений

![Диаграмма работы сервера](/diagram.png)

Клиент отправляет учетные данные для входа в /auth/login
Шлюз пересылает запрос в микросервис аутентификации
Микросервис аутентификации проверяет учетные данные и генерирует JWT токен
Токен возвращается клиенту
Клиент включает токен в последующие запросы
Поток управления продуктом
Клиент отправляет аутентифицированный запрос на конечные точки продукта
Шлюз проверяет токен через Auth Microservice
Если запрос действителен, он пересылается в Product Microservice
Product Microservice выполняет операции с базой данных
Результаты возвращаются клиенту через  шлюз
 API

## Ключевые особенности:

Архитектура микросервисов: масштабируемая и поддерживаемая конструкция сервиса
Аутентификация JWT: безопасное управление доступом на основе токенов
Интеграция MongoDB: база данных NoSQL для гибкого хранения данных о продукте
Документация Swagger: интерактивная документация API
Разбивка на страницы: эффективная обработка больших наборов данных
Обработка ошибок: комплексное управление ошибками
Обмен сообщениями: надежная межсервисная связь

Для обработки большого объема записей предусмотрена и имплементирована serverside пагинация, однако клиент использует полее простую форму пагинации. 
Комментарии и swagger ставлены на английском языке
База данных хостится на Atlas, схема работы составлена на Mermaid
